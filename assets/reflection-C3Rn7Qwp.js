import{r as d,j as e,a as v,b as k,L as z}from"./index-BD2pMj9b.js";import{A as w}from"./AttributionBlog-tMCT3eSA.js";import{L as P,a as E,b as _,M as j,n as G,c as H,z as a,T as W,O,A as D,d as X,N as M,f as V,e as Y,F as Z,g as q,u as U,h as L,S as J,C as F,i as K}from"./useDesmos-NLLmplOS.js";import{T as l,S as c,P as N}from"./Stack-CXO6aZa4.js";import{R as Q,F as R,a as C}from"./RadioGroup-Cq2zz1OW.js";import"./createSvgIcon-JBM0v4A9.js";const S={A200:"#b0bec5"},ee=["$A(x,y)$ สะท้อนข้าม แกน $x$: $$A'(x, -y)$$","$A(x,y)$ สะท้อนข้าม แกน $y$: $$A'(-x, y)$$","$A(x,y)$ สะท้อนข้าม แกน $y=a$: $$A'(x, 2a-y)$$","$A(x,y)$ สะท้อนข้าม แกน $x=a$: $$A'(2a-x, y)$$"],te=d.memo(()=>e.jsx(P,{sx:{paddingLeft:4,listStyleType:"disc"},children:ee.map((t,n)=>e.jsx(E,{sx:{display:"list-item"},children:e.jsx(_,{disableTypography:!0,children:e.jsx(l,{children:e.jsx(j,{dynamic:!0,children:t})})})},`forumla-${n}`))}),()=>!0),re=["รูปต้นแบบและภาพที่ได้จากการสะท้อน สามารถทับกันได้สนิทโดยต้องพลิกรูปต้นแบบหรือพลิกภาพที่ได้จากการสะท้อนอย่างหนึ่งอย่างใด หรือกล่าวว่า รูปต้นแบบและภาพที่ได้จากการสะท้อนเท่ากันทุกประการ","จุดที่สมนัยกันแต่ละคู่จะอยู่ห่างจากเส้นสะท้อนเท่ากัน หรือเส้นสะท้อนจะแบ่งครึ่งและตั้งฉากกับส่วนของเส้นตรงทีเชื่อมระหว่างจุดที่สมนัยกันบนรูปต้นแบบและภาพที่ได้จากการสะท้อน","ส่วนของเส้นตรงที่เชื่อมระหว่างจุดที่สมนัยกันบนรูปต้นแบบและภาพที่ได้จากการสะท้อน จะขนานกัน"],ne=d.memo(()=>e.jsx(c,{spacing:.5,children:e.jsx(P,{sx:{pl:4,listStyleType:"disc"},children:re.map((t,n)=>e.jsx(E,{sx:{display:"list-item"},children:e.jsx(_,{disableTypography:!0,children:e.jsx(l,{children:t})})},`PROP-${n}`))})}),()=>!0),se=()=>{const{state:{value:t},handleChange:n,handleBlur:x}=G();return e.jsxs(Q,{value:t,onChange:(m,p)=>n(p),onBlur:x,children:[e.jsx(R,{value:"horizontal",control:e.jsx(C,{}),label:e.jsx(j,{dynamic:!0,children:"แนวแกน $x$"})}),e.jsx(R,{value:"vertical",control:e.jsx(C,{}),label:e.jsx(j,{dynamic:!0,children:"แนวแกน $y$"})}),e.jsx(R,{value:"linear",control:e.jsx(C,{}),label:"สมการเส้นตรง"})]})},y=a.string().trim().normalize().nonempty().refine(t=>!isNaN(Number(t))).pipe(a.transform(t=>Number(t))),I=a.discriminatedUnion("type",[a.object({type:a.literal("vertical"),value:y,points:a.object({x:y,y}).array().max(4).min(1)}),a.object({type:a.literal("horizontal"),value:y,points:a.object({x:y,y}).array().max(4).min(1)}),a.object({type:a.literal("linear"),value:a.string().trim().normalize().nonempty().refine(t=>t.split("=").length===2).pipe(a.transform(t=>t.split("="))),points:a.object({x:y,y}).array().max(4).min(1)})]),{useAppForm:ie}=H({fieldComponents:{NumberTextField:M,ArrayItemAddButton:X,ArrayItemRemoveButton:D,ReflectionEquationTypeInput:se},formComponents:{FormResetButton:q,FormSubmitButton:Z},fieldContext:V,formContext:Y}),oe=({onSubmit:t})=>{const{AppField:n,AppForm:x,FormResetButton:m,FormSubmitButton:p,Subscribe:$}=ie({defaultValues:{type:"horizontal",value:"0",points:[{x:"1",y:"1"}]},validators:{onChange:I},onSubmit:({value:s})=>{const r=I.safeParse(s);r.success&&t(r.data)}});return e.jsxs(c,{spacing:.5,children:[e.jsx(W,{children:e.jsx(x,{children:e.jsx(m,{})})}),e.jsxs(c,{children:[e.jsx(l,{children:"ประเภทของเส้นสะท้อน"}),e.jsx(n,{name:"type",children:s=>e.jsx(s.ReflectionEquationTypeInput,{})})]}),e.jsx($,{selector:({values:s})=>({values:s}),children:({values:s})=>e.jsxs(d.Fragment,{children:[s.type==="linear"&&e.jsxs(c,{padding:1,spacing:.5,sx:{backgroundColor:({palette:r})=>v(r.primary.main,.08)},children:[e.jsx(l,{children:"สมการเส้นสะท้อน"}),e.jsx(n,{name:"value",children:({state:r,handleBlur:i,handleChange:u})=>e.jsx(O,{fullWidth:!0,placeholder:"y=-x+2",error:r.meta.errors.length>0,value:r.value,onChange:h=>u(h.target.value),onBlur:i,slotProps:{input:{sx:{fontFamily:"monospace"}}}})})]}),s.type==="vertical"&&e.jsxs(c,{padding:1,spacing:.5,sx:{backgroundColor:({palette:r})=>v(r.primary.main,.08)},children:[e.jsx(l,{children:"เส้นสะท้อน (แนวตั้ง)"}),e.jsx(n,{name:"value",children:r=>e.jsx(r.NumberTextField,{})})]}),s.type==="horizontal"&&e.jsxs(c,{padding:1,spacing:.5,sx:{backgroundColor:({palette:r})=>v(r.primary.main,.08)},children:[e.jsx(l,{children:"เส้นสะท้อน (แนวนอน)"}),e.jsx(n,{name:"value",children:r=>e.jsx(r.NumberTextField,{})})]})]})}),e.jsx(c,{children:e.jsx(n,{name:"points",mode:"array",children:s=>e.jsx(d.Fragment,{children:s.state.value.map((r,i)=>e.jsxs(c,{spacing:.5,padding:1,sx:{backgroundColor:({palette:{primary:u}})=>i%2===0?void 0:v(u.light,.08)},children:[e.jsxs(c,{direction:"row",justifyContent:"space-between",children:[e.jsx(l,{children:e.jsxs(j,{children:[i===0&&`พิกัดที่ ${i+1} $(x,y)$`,i!==0&&`พิกัดที่ ${i+1}`]})}),e.jsx(s.ArrayItemRemoveButton,{index:i})]}),e.jsxs(c,{spacing:.5,direction:"row",children:[e.jsx(n,{name:`points[${i}].x`,children:u=>e.jsx(u.NumberTextField,{})}),e.jsx(n,{name:`points[${i}].y`,children:u=>e.jsx(u.NumberTextField,{})})]})]},`translate-point-${i}`))})})}),e.jsxs(W,{sx:{justifyContent:"space-between"},children:[e.jsx(x,{children:e.jsx(p,{})}),e.jsx(n,{name:"points",children:s=>e.jsx(s.ArrayItemAddButton,{})})]})]})},ae=t=>{const{clearGraph:n,desmosRef:x,addLine:m,addPoint:p,addPolygon:$}=U(t),s=d.useCallback((h,o)=>{h.setExpressions([{latex:`T(x,y) = ( 
          (2)(${o}) - x ,
          y
        )`,hidden:!0},{latex:`x=${o}`,color:S.A200,lines:!0,lineWidth:4}])},[]),r=d.useCallback((h,o)=>{h.setExpressions([{latex:`T(x,y) = (
          x , 
          (2)(${o}) - y
        )`,hidden:!0},{latex:`y=${o}`,color:S.A200,lines:!0,lineWidth:4}])},[]),i=d.useCallback((h,o)=>{const[f,b]=o;h.setExpressions([{latex:`G(x,y)=${f}-(${b})`,hidden:!0},{latex:"H_{x}(x) = G(x,0)",hidden:!0},{latex:"H_{y}(y) = G(0,y)",hidden:!0},{latex:"W = H_{x}'(0)",hidden:!0},{latex:"X = H_{y}'(0)",hidden:!0},{latex:"Y = G(0,0)",hidden:!0},{latex:"Z = W^{2} + X^{2}",hidden:!0},{latex:"T(u,v) = (u - 2W(Wu + Xv + Y)/Z , v - 2X(Wu + Xv + Y)/Z )",hidden:!0},{latex:`${f}=${b}`,color:S.A200,lines:!0,lineWidth:4}])},[]);return{plotReflection:d.useCallback(h=>{if(x.current===void 0)return;n();const{points:o,type:f,value:b}=h,A=x.current;switch(f){case"horizontal":r(A,b);break;case"linear":i(A,b);break;case"vertical":s(A,b);break}for(const[g,T]of o.entries()){const B=String.fromCharCode(65+g);m([`A_{${g}}`,`B_{${g}}`]),p({index:g,texName:"A",tex:`(${T.x},${T.y})`,label:B,color:k.A400}),p({index:g,texName:"B",tex:`T(
            (A_{${g}}).x, 
            (A_{${g}}).y   
          )`,label:`${B}\\prime`,color:L.A400})}o.length>1&&($("A",o.length,k.A400),$("B",o.length,L.A400))},[x,m,p,$,n,r,i,s]),desmosRef:x}};function me(){const[t,n]=d.useState(null),{plotReflection:x,desmosRef:m}=ae("#desmos"),[p,$]=d.useState({});d.useEffect(()=>{if(m.current===void 0)return;const r=m.current;for(let i=0;i<4;i++){const u=r.HelperExpression({latex:`B_{${i}}`});u.observe("listValue",()=>{$(h=>{const o={...h};return o[i]=[...u.listValue],o})})}return()=>r.destroy()},[m]);const s=d.useCallback(r=>{n(r),x(r)},[x]);return e.jsx(J,{slots:{secondary:e.jsx(N,{sx:{height:"100%"},children:e.jsx("div",{id:"desmos",style:{width:"100%",height:"100%"}})}),primary:e.jsx(N,{sx:{height:"100%",padding:2,overflowY:"auto",scrollbarGutter:"stable",scrollbarWidth:"thin"},children:e.jsxs(c,{spacing:2,children:[e.jsx(l,{color:"textPrimary",sx:{"&:hover":{textDecorationLine:"underline"}},children:e.jsx(z,{to:"/",style:{color:"inherit",textDecorationLine:"none"},children:"กลับหน้าแรก"})}),e.jsxs(c,{spacing:.5,children:[e.jsx(l,{variant:"h5",component:"div",fontWeight:700,children:"(การแปลงทางเรขาคณิต)"}),e.jsx(l,{variant:"h5",component:"div",fontWeight:700,children:"การสะท้อน"})]}),e.jsx(oe,{onSubmit:s}),e.jsx(F,{title:e.jsx(l,{fontWeight:800,children:"ผลลัพธ์"}),children:e.jsxs(c,{children:[t===null&&e.jsxs(e.Fragment,{children:[e.jsx(l,{children:"เส้นการสะท้อน:"}),e.jsx(j,{dynamic:!0,children:"พิกัดเดิม $\\rightarrow$ พิกัดใหม่:"})]}),t!==null&&e.jsxs(e.Fragment,{children:[t.type==="horizontal"&&e.jsx(j,{dynamic:!0,children:`เส้นการสะท้อน: $y=${t.value}$`}),t.type==="vertical"&&e.jsx(j,{dynamic:!0,children:`เส้นการสะท้อน: $x=${t.value}$`}),t.type==="linear"&&e.jsx(j,{dynamic:!0,children:`เส้นการสะท้อน: $${t.value.join("=")}$`}),e.jsx(j,{dynamic:!0,children:"พิกัดเดิม $\\rightarrow$ พิกัดใหม่:"}),e.jsx(K,{preImages:t.points,imageMap:p})]})]})}),e.jsx(F,{title:e.jsx(l,{fontWeight:600,children:"สมบัติการสะท้อน"}),children:e.jsx(ne,{})}),e.jsx(F,{title:e.jsx(l,{fontWeight:600,children:"สูตรการสะท้อน"}),children:e.jsx(te,{})}),e.jsx(w,{})]})})}})}export{me as component};
